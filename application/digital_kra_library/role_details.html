<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Role Details</title>

    <link rel="stylesheet" href="../../assets/css/bootstrap5.min.css">
    <link rel="stylesheet" href="../../assets/css/jquery-ui.css">
    <link rel="stylesheet" href="../../assets/css/jquery.dataTables.css">

    <link rel="stylesheet" href="../../assets/css/digital_kra_library/digital_kra_library.css">

    <link rel="stylesheet" href="../../assets/css/select2.min.css">
</head>
<body>
    <div class="container bg-light py-3">
        <div class="title-wrapper d-flex align-items-center mt-3 mb-4">
            <h2 class="page-title">Role Details</h2>
        </div>

        <div class="emprole-detail-wrapper">
            <div class="row">
                <div class="col-md-4">
                    <p class="emprole-detail__title">Role Code :</p>
                    <p class="emprole-detail__data">41007</p>
                </div>
                <div class="col-md-4">
                    <p class="emprole-detail__title">Unit :</p>
                    <p class="emprole-detail__data">CO</p>
                </div>
                <div class="col-md-4">
                    <p class="emprole-detail__title">Role Type :</p>
                    <p class="emprole-detail__data">Non Executive</p>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-md-4">
                    <p class="emprole-detail__title">Role Name :</p>
                    <p class="emprole-detail__data">ARC Restructuring Audit officer</p>
                </div>
                <div class="col-md-4">
                    <p class="emprole-detail__title">Role Creater :</p>
                    <p class="emprole-detail__data">Recovery 1</p>
                </div>
                <div class="col-md-4">
                    <div class="d-flex justify-content-end align-items-end gap-3">
                        <button class="round-btn filter-btn" data-bs-toggle="modal" data-bs-target="#filter_modal">
                            <img src="../../assets/img/digital_kra_library/icons/printer.svg" alt="printer"/>
                        </button>
                        <button class="round-btn download-btn">
                            <img src="../../assets/img/digital_kra_library/icons/download-icon.svg" alt="download"/>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="title-wrapper d-flex align-items-center mt-3 mb-4">
            <h2 class="page-title">Role-wise KRAs</h2>
        </div>
        <div class="d-flex align-items-end gap-3">
            <button class="round-btn filter-btn" data-bs-toggle="modal" data-bs-target="#filter_modal">
                <img src="../../assets/img/digital_kra_library/icons/filter.svg" alt="filter"/>
            </button>
            <button class="round-btn download-btn">
                <img src="../../assets/img/digital_kra_library/icons/download-icon.svg" alt="download"/>

                <div class="download-submenu">
                    <a class="download-submenu__title mb-4" href="#">
                        <img class="download-submenu__icon" src="../../assets/img/digital_kra_library/icons/download-icon.svg" alt="download">
                        Download Role Master
                    </a>
                    <a class="download-submenu__title" href="#">
                        <img class="download-submenu__icon" src="../../assets/img/digital_kra_library/icons/download-icon.svg" alt="download">
                        Download Role wise KRA repository
                    </a>
                </div>
            </button>
        </div>

        <div class="roletable-wrapper mt-4">
            <!-- Role-wise KRAs table -->
            <table class="roletable kra-tbl" id="kra_tbl" role="tabpanel" aria-labelledby="kra-view-tab">
                <thead>
                    <tr>
                        <th>SR NO</th>
                        <th class="text-start">KRA Name</th>
                        <th>Unit</th>
                        <th>KRA WEIGHT</th>
                        <th>CRITICALITY</th>
                        <th>DATA SOURCE</th>
                        <th>TARGET SOURCE</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="close">
                        <td>
                            <button type="button" class="longtxt-dropdown">&#10094;</button>1
                        </td>
                        <td class="text-start td-long-text">Recovery through sale of assets to ARCs</td>
                        <td>Amount (cr)</td>
                        <td>6</td>
                        <td>Non Critical</td>
                        <td>Recovery</td>
                        <td>Recovery</td>
                    </tr>

                    <tr class="close">
                        <td>
                            <button type="button" class="longtxt-dropdown">&#10094;</button>2
                        </td>
                        <td class="text-start td-long-text">Score as per management audit</td>
                        <td>Score</td>
                        <td>6</td>
                        <td>Non Critical</td>
                        <td>Recovery</td>
                        <td>Recovery</td>
                    </tr>

                    <tr class="close">
                        <td>
                            <button type="button" class="longtxt-dropdown">&#10094;</button>3
                        </td>
                        <td class="text-start td-long-text">Score as per management audit</td>
                        <td>Score</td>
                        <td>6</td>
                        <td>Non Critical</td>
                        <td>Recovery</td>
                        <td>Recovery</td>
                    </tr>

                    <tr class="close">
                        <td>
                            <button type="button" class="longtxt-dropdown">&#10094;</button>4
                        </td>
                        <td class="text-start td-long-text">Score as per management audit</td>
                        <td>Score</td>
                        <td>6</td>
                        <td>Non Critical</td>
                        <td>Recovery</td>
                        <td>Recovery</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Filter Modal -->
    <div id="filter_modal" class="modal fade filter-modal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title fontsize-14">Filter By</h4>
                    <button type="button" class="close" data-bs-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-sm-6 mt-4">
                            <p class="modal-content__title">Role Code</p>
                            <div class="modal-serchbar-wrapper">
                                <input class="modal-serchbar" type="text" placeholder="Search code"/>
                            </div>
                        </div>

                        <div class="col-sm-6 mt-4">
                            <p class="modal-content__title">KRA Name</p>
                            <div class="modal-selectfield-wrapper">
                                <select class="exampleKRA" name="kra_name">
                                    <option value="ab">abbbgg</option>
                                    <option value="ab">ccccjjj</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-sm-6 mt-4">
                            <p class="modal-content__title">Unit</p>
                            <div class="modal-selectfield-wrapper">
                                <select class="exampleKRA" name="kra_name">
                                    <option value="ab">abbbgg</option>
                                    <option value="ab">ccccjjj</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-sm-6 mt-4">
                            <p class="modal-content__title">Role Creater</p>
                            <div class="modal-selectfield-wrapper">
                                <select class="exampleKRA" name="kra_name">
                                    <option value="ab">abbbgg</option>
                                    <option value="ab">ccccjjj</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-sm-6 mt-4">
                            <p class="modal-content__title">Role Type</p>
                            <div class="modal-selectfield-wrapper">
                                <select class="exampleKRA" name="kra_name">
                                    <option value="ab">abbbgg</option>
                                    <option value="ab">ccccjjj</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn common-btn" id="unit_select">Apply</button>
                    <button type="button" class="btn btn-trans_blue cancel-btn">Clear All</button>
                </div>
            </div>

        </div>
    </div> 


    <script src="../../assets/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/jquery.min.js"></script>
    <script src="../../assets/js/jquery-ui.js"></script>
    <script src="../../assets/js/jquery.dataTables.min.js"></script>
    <script src="../../assets/js/dataTables.buttons.min.js"></script>

    <script src="../../assets/js/select2.js"></script>
    
    <script>
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));
        
        $(document).ready(function() {
            $('#role_tbl').DataTable({
                'searching': false,
                "dom": 'rtip',
                "pageLength": 20,
                language: {
                    paginate: {
                    next: '>',
                    previous: '<'  
                    }
                }
            });

            $('#kra_tbl').DataTable({
                'searching': false,
                "dom": 'rtip',
                "pageLength": 20,
                language: {
                    paginate: {
                    next: '>',
                    previous: '<'  
                    }
                }
            });

            /* Expand td text code */
            $('.longtxt-dropdown').on('click', function(event){
                var parent_tr= ($(this).parent()).parent();

                if(parent_tr.hasClass('close')){
                    parent_tr.removeClass('close');
                    parent_tr.addClass('open');
                }
                else{
                    parent_tr.removeClass('open');
                    parent_tr.addClass('close');
                }
            });
        });
        //$('#role_tbl').DataTable();

        $('.exampleKRA').select2();
    </script>
</body>
</html>